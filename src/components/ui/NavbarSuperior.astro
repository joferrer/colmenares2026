---
import Image from "astro/components/Image.astro";
import CD_LOGO_H from "../../assets/logos/CD_LOGO-H.png";

const navItems = [
    {
        name: "¿En que creemos?",
        url: "/#introduccion",
        label: "",
    },
    {
        name: "¿Quién soy?",
        url: "/#experiencia",
        label: "",
    },
    {
        name: "Últimas noticias",
        url: "",
        label: "",
    },
    {
        name: "¿Cómo votar?",
        url: "/#aboutme",
        label: "",
    },
    {
        name: "¿Cómo puedes ayudar?",
        url: "/#educacion",
        label: "",
    },
];
---

<div class="h-20 w-full mb-5">
    <li>
        <Image src={CD_LOGO_H} alt="Logo" height={100} />
    </li>
    <header
        class="fixed top-0 flex w-full justify-center mt-5 lg:mt-20 mx-auto max-sm:mt-0 z-50"
    >
        <button
            aria-label="Open Menu"
            aria-expanded="false"
            aria-controls="menu-items"
            class:list={[
                "hamburger-menu focus-outline bg-(--cd-oscuro)",
                "fixed right-0 w-14 h-14 mx-2 p-1 flex flex-col justify-center lg:hidden  rounded-md z-50",
            ]}
        >
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
        <nav id="nav-bar" class="visible max-lg:invisible flex">
            {
                navItems.map((item) => (
                    <a
                        href={item.url}
                        class:list={[
                            "px-4 py-2 hover:text-(--cd-azul) text-2xl",
                        ]}
                    >
                        {item.name}
                    </a>
                ))
            }
        </nav>
    </header>
</div>

<style>
    @reference "tailwindcss";

    .bar {
        display: block;
        width: 100%;
        height: 3px;
        background-color: #fff;
        margin: 5px 0;
    }
    .hamburger-menu {
        z-index: 999;
    }

    .hamburger-menu.active .bar:nth-child(1) {
        transform: rotate(-45deg) translate(-5px, 11px);
    }
    .hamburger-menu.active .bar:nth-child(2) {
        opacity: 0;
    }
    .hamburger-menu.active .bar:nth-child(3) {
        transform: rotate(45deg) translate(-5px, -11px);
    }

    @media (min-width: 1024px) {
        nav {
            animation: nav-shadown 1s linear both;
            animation-timeline: scroll();
            animation-range: 0 100px;
        }

        @keyframes nav-shadown {
            to {
                box-shadow:
                    0 10px 15px -3px rgb(0 0 0 / 0.1),
                    0 4px 6px -4px rgb(0 0 0 / 0.1);
                backdrop-filter: blur(10px);
                background-color: rgba(37, 62, 107, 0.416);
                border-radius: 9999px;
                box-sizing: border-box;
                outline: 1px solid rgb(255 255 255 / 0.1);
                color: white;
            }
        }
    }
    @media (max-width: 1024px) {
        #nav-bar {
            @apply flex flex-col w-full py-16 h-screen bg-(--cd-oscuro) text-center text-white;
            z-index: 998;
        }
    }
</style>

<script>
    const menuBtn = document.querySelector(".hamburger-menu");
    const navBar = document.querySelector("#nav-bar");

    const clickEvent = () => {
        console.log("clickEvent");
        navBar?.classList.toggle("max-lg:invisible");
        menuBtn?.classList.toggle("active");
    };

    const openEvent = () => {
        console.log("openEvent");
        menuBtn?.addEventListener("click", clickEvent);
    };

    openEvent();
</script>
